{"ast":null,"code":"var _jsxFileName = \"E:\\\\AllProjects\\\\Quiz-App-master\\\\frontend\\\\src\\\\pages\\\\Quiz\\\\Quiz.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport Swal from 'sweetalert2';\nimport './Quiz.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Quiz = () => {\n  _s();\n  var _user$name2;\n  const [quizData, setQuizData] = useState(null);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState('');\n  const [score, setScore] = useState(0);\n  const [answers, setAnswers] = useState([]);\n  const [timer, setTimer] = useState(30);\n  const [showResult, setShowResult] = useState(false);\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleQuizEnd = useCallback(async (finalScore, finalAnswers) => {\n    setShowResult(true);\n    try {\n      const token = localStorage.getItem('token');\n      const percentage = finalScore / (quizData === null || quizData === void 0 ? void 0 : quizData.questions.length) * 100;\n      await fetch('http://localhost:5000/api/users/quiz-result', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': token\n        },\n        body: JSON.stringify({\n          score: finalScore,\n          totalQuestions: quizData === null || quizData === void 0 ? void 0 : quizData.questions.length,\n          percentage,\n          answers: finalAnswers\n        })\n      });\n    } catch (error) {\n      console.error('Error saving quiz result:', error);\n    }\n  }, [quizData]);\n  useEffect(() => {\n    const data = localStorage.getItem('quizData');\n    if (data) {\n      var _parsedData$settings;\n      const parsedData = JSON.parse(data);\n      setQuizData(parsedData);\n      // Set per-question timer from settings\n      const timerSeconds = parseInt(((_parsedData$settings = parsedData.settings) === null || _parsedData$settings === void 0 ? void 0 : _parsedData$settings.timerPerQuestion) || 30);\n      setTimer(timerSeconds);\n    } else {\n      navigate('/dashboard');\n    }\n  }, [navigate]);\n  useEffect(() => {\n    if (timer > 0 && !showResult) {\n      const interval = setInterval(() => {\n        setTimer(timer - 1);\n      }, 1000);\n      return () => clearInterval(interval);\n    } else if (timer === 0) {\n      handleNextQuestion();\n    }\n  }, [timer, showResult]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleAnswerSelect = answer => {\n    setSelectedAnswer(answer);\n  };\n  const handleNextQuestion = () => {\n    if (!quizData) return;\n    const isCorrect = selectedAnswer === quizData.questions[currentQuestion].correct_answer;\n    const newScore = isCorrect ? score + 1 : score;\n    const answerData = {\n      question: quizData.questions[currentQuestion].question,\n      userAnswer: selectedAnswer,\n      correctAnswer: quizData.questions[currentQuestion].correct_answer,\n      isCorrect\n    };\n    setAnswers([...answers, answerData]);\n    setScore(newScore);\n    if (currentQuestion < quizData.questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n      setSelectedAnswer('');\n      setTimer(30);\n    } else {\n      handleQuizEnd(newScore, [...answers, answerData]);\n    }\n  };\n  const handleEndQuiz = async () => {\n    const result = await Swal.fire({\n      title: 'End Quiz?',\n      text: 'Are you sure you want to end the quiz? Your progress will be saved.',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: '#667eea',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, End Quiz',\n      cancelButtonText: 'Continue Quiz'\n    });\n    if (result.isConfirmed) {\n      handleQuizEnd(score, answers);\n    }\n  };\n  if (!quizData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading quiz...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 16\n    }, this);\n  }\n  if (showResult) {\n    var _user$name;\n    const percentage = score / quizData.questions.length * 100;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-result\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: user === null || user === void 0 ? void 0 : (_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0).toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: user === null || user === void 0 ? void 0 : user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Quiz Completed!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-display\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"score-circle\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"score-number\",\n              children: [score, \"/\", quizData.questions.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"score-percentage\",\n              children: [percentage.toFixed(1), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/dashboard'),\n          className: \"back-to-dashboard-btn\",\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this);\n  }\n  const question = quizData.questions[currentQuestion];\n  const options = [...question.incorrect_answers];\n  if (!options.includes(question.correct_answer)) {\n    options.splice(Math.floor(Math.random() * (options.length + 1)), 0, question.correct_answer);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-avatar\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: user === null || user === void 0 ? void 0 : (_user$name2 = user.name) === null || _user$name2 === void 0 ? void 0 : _user$name2.charAt(0).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: user === null || user === void 0 ? void 0 : user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Question \", currentQuestion + 1, \" of \", quizData.questions.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timers\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-timer\",\n            children: [\"Question: \", timer, \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), quizTimer > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"quiz-timer\",\n            children: [\"Quiz: \", Math.floor(quizTimer / 60), \":\", (quizTimer % 60).toString().padStart(2, '0')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEndQuiz,\n          className: \"end-quiz-btn\",\n          children: \"End Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"question-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"category\",\n          children: question.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"difficulty\",\n          children: question.difficulty\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question\",\n        dangerouslySetInnerHTML: {\n          __html: question.question\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options\",\n        children: options.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `option ${selectedAnswer === option ? 'selected' : ''}`,\n          onClick: () => handleAnswerSelect(option),\n          dangerouslySetInnerHTML: {\n            __html: option\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNextQuestion,\n        className: \"next-btn\",\n        disabled: !selectedAnswer,\n        children: currentQuestion === quizData.questions.length - 1 ? 'Finish Quiz' : 'Next Question'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 9\n  }, this);\n};\n_s(Quiz, \"Z+xepsjif+QkVc5fiXrb99ZURNw=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useAuth","Swal","jsxDEV","_jsxDEV","Quiz","_s","_user$name2","quizData","setQuizData","currentQuestion","setCurrentQuestion","selectedAnswer","setSelectedAnswer","score","setScore","answers","setAnswers","timer","setTimer","showResult","setShowResult","user","navigate","handleQuizEnd","finalScore","finalAnswers","token","localStorage","getItem","percentage","questions","length","fetch","method","headers","body","JSON","stringify","totalQuestions","error","console","data","_parsedData$settings","parsedData","parse","timerSeconds","parseInt","settings","timerPerQuestion","interval","setInterval","clearInterval","handleNextQuestion","handleAnswerSelect","answer","isCorrect","correct_answer","newScore","answerData","question","userAnswer","correctAnswer","handleEndQuiz","result","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_user$name","name","charAt","toUpperCase","toFixed","onClick","options","incorrect_answers","includes","splice","Math","floor","random","quizTimer","toString","padStart","category","difficulty","dangerouslySetInnerHTML","__html","map","option","index","disabled","_c","$RefreshReg$"],"sources":["E:/AllProjects/Quiz-App-master/frontend/src/pages/Quiz/Quiz.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport Swal from 'sweetalert2';\r\nimport './Quiz.css';\r\n\r\nconst Quiz = () => {\r\n    const [quizData, setQuizData] = useState(null);\r\n    const [currentQuestion, setCurrentQuestion] = useState(0);\r\n    const [selectedAnswer, setSelectedAnswer] = useState('');\r\n    const [score, setScore] = useState(0);\r\n    const [answers, setAnswers] = useState([]);\r\n    const [timer, setTimer] = useState(30);\r\n    const [showResult, setShowResult] = useState(false);\r\n    const { user } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n    const handleQuizEnd = useCallback(async (finalScore, finalAnswers) => {\r\n        setShowResult(true);\r\n\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const percentage = (finalScore / quizData?.questions.length) * 100;\r\n\r\n            await fetch('http://localhost:5000/api/users/quiz-result', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': token\r\n                },\r\n                body: JSON.stringify({\r\n                    score: finalScore,\r\n                    totalQuestions: quizData?.questions.length,\r\n                    percentage,\r\n                    answers: finalAnswers\r\n                })\r\n            });\r\n        } catch (error) {\r\n            console.error('Error saving quiz result:', error);\r\n        }\r\n    }, [quizData]);\r\n\r\n    useEffect(() => {\r\n        const data = localStorage.getItem('quizData');\r\n        if (data) {\r\n            const parsedData = JSON.parse(data);\r\n            setQuizData(parsedData);\r\n            // Set per-question timer from settings\r\n            const timerSeconds = parseInt(parsedData.settings?.timerPerQuestion || 30);\r\n            setTimer(timerSeconds);\r\n        } else {\r\n            navigate('/dashboard');\r\n        }\r\n    }, [navigate]);\r\n\r\n    useEffect(() => {\r\n        if (timer > 0 && !showResult) {\r\n            const interval = setInterval(() => {\r\n                setTimer(timer - 1);\r\n            }, 1000);\r\n            return () => clearInterval(interval);\r\n        } else if (timer === 0) {\r\n            handleNextQuestion();\r\n        }\r\n    }, [timer, showResult]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const handleAnswerSelect = (answer) => {\r\n        setSelectedAnswer(answer);\r\n    };\r\n\r\n    const handleNextQuestion = () => {\r\n        if (!quizData) return;\r\n\r\n        const isCorrect = selectedAnswer === quizData.questions[currentQuestion].correct_answer;\r\n        const newScore = isCorrect ? score + 1 : score;\r\n\r\n        const answerData = {\r\n            question: quizData.questions[currentQuestion].question,\r\n            userAnswer: selectedAnswer,\r\n            correctAnswer: quizData.questions[currentQuestion].correct_answer,\r\n            isCorrect\r\n        };\r\n\r\n        setAnswers([...answers, answerData]);\r\n        setScore(newScore);\r\n\r\n        if (currentQuestion < quizData.questions.length - 1) {\r\n            setCurrentQuestion(currentQuestion + 1);\r\n            setSelectedAnswer('');\r\n            setTimer(30);\r\n        } else {\r\n            handleQuizEnd(newScore, [...answers, answerData]);\r\n        }\r\n    };\r\n\r\n    const handleEndQuiz = async () => {\r\n        const result = await Swal.fire({\r\n            title: 'End Quiz?',\r\n            text: 'Are you sure you want to end the quiz? Your progress will be saved.',\r\n            icon: 'question',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#667eea',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, End Quiz',\r\n            cancelButtonText: 'Continue Quiz'\r\n        });\r\n\r\n        if (result.isConfirmed) {\r\n            handleQuizEnd(score, answers);\r\n        }\r\n    };\r\n\r\n    if (!quizData) {\r\n        return <div className=\"loading\">Loading quiz...</div>;\r\n    }\r\n\r\n    if (showResult) {\r\n        const percentage = (score / quizData.questions.length) * 100;\r\n        return (\r\n            <div className=\"quiz-result\">\r\n                <div className=\"result-card\">\r\n                    <div className=\"user-info\">\r\n                        <div className=\"user-avatar\">\r\n                            <span>{user?.name?.charAt(0).toUpperCase()}</span>\r\n                        </div>\r\n                        <div className=\"user-details\">\r\n                            <h1>{user?.name}</h1>\r\n                            <p>Quiz Completed!</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"score-display\">\r\n                        <h2>Your Score</h2>\r\n                        <div className=\"score-circle\">\r\n                            <span className=\"score-number\">{score}/{quizData.questions.length}</span>\r\n                            <span className=\"score-percentage\">{percentage.toFixed(1)}%</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button onClick={() => navigate('/dashboard')} className=\"back-to-dashboard-btn\">\r\n                        Back to Dashboard\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const question = quizData.questions[currentQuestion];\r\n    const options = [...question.incorrect_answers];\r\n    if (!options.includes(question.correct_answer)) {\r\n        options.splice(Math.floor(Math.random() * (options.length + 1)), 0, question.correct_answer);\r\n    }\r\n\r\n    return (\r\n        <div className=\"quiz-container\">\r\n            <div className=\"quiz-header\">\r\n                <div className=\"user-info\">\r\n                    <div className=\"user-avatar\">\r\n                        <span>{user?.name?.charAt(0).toUpperCase()}</span>\r\n                    </div>\r\n                    <div className=\"user-details\">\r\n                        <h2>{user?.name}</h2>\r\n                        <p>Question {currentQuestion + 1} of {quizData.questions.length}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"quiz-controls\">\r\n                    <div className=\"timers\">\r\n                        <div className=\"question-timer\">Question: {timer}s</div>\r\n                        {quizTimer > 0 && (\r\n                            <div className=\"quiz-timer\">\r\n                                Quiz: {Math.floor(quizTimer / 60)}:{(quizTimer % 60).toString().padStart(2, '0')}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <button onClick={handleEndQuiz} className=\"end-quiz-btn\">\r\n                        End Quiz\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"question-card\">\r\n                <div className=\"question-header\">\r\n                    <span className=\"category\">{question.category}</span>\r\n                    <span className=\"difficulty\">{question.difficulty}</span>\r\n                </div>\r\n\r\n                <div className=\"question\" dangerouslySetInnerHTML={{ __html: question.question }} />\r\n\r\n                <div className=\"options\">\r\n                    {options.map((option, index) => (\r\n                        <button\r\n                            key={index}\r\n                            className={`option ${selectedAnswer === option ? 'selected' : ''}`}\r\n                            onClick={() => handleAnswerSelect(option)}\r\n                            dangerouslySetInnerHTML={{ __html: option }}\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                <button\r\n                    onClick={handleNextQuestion}\r\n                    className=\"next-btn\"\r\n                    disabled={!selectedAnswer}\r\n                >\r\n                    {currentQuestion === quizData.questions.length - 1 ? 'Finish Quiz' : 'Next Question'}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Quiz;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}