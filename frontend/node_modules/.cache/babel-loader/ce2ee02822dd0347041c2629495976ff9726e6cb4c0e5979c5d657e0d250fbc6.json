{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import Swal from'sweetalert2';import'./Quiz.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Quiz=()=>{var _user$name2;const[quizData,setQuizData]=useState(null);const[currentQuestion,setCurrentQuestion]=useState(0);const[selectedAnswer,setSelectedAnswer]=useState('');const[score,setScore]=useState(0);const[answers,setAnswers]=useState([]);const[timer,setTimer]=useState(30);const[quizTimer,setQuizTimer]=useState(0);const[showResult,setShowResult]=useState(false);const{user}=useAuth();const navigate=useNavigate();useEffect(()=>{const data=localStorage.getItem('quizData');if(data){var _parsedData$settings;const parsedData=JSON.parse(data);setQuizData(parsedData);// Set quiz timer in minutes, convert to seconds\nconst timerMinutes=parseInt(((_parsedData$settings=parsedData.settings)===null||_parsedData$settings===void 0?void 0:_parsedData$settings.timer)||0);setQuizTimer(timerMinutes*60);}else{navigate('/dashboard');}},[navigate]);// Overall quiz timer effect\nuseEffect(()=>{if(quizTimer>0&&!showResult){const interval=setInterval(()=>{setQuizTimer(prev=>{if(prev<=1){// Use current score and answers when timer runs out\nconst currentAnswers=answers;const currentScore=score;handleQuizEnd(currentScore,currentAnswers);return 0;}return prev-1;});},1000);return()=>clearInterval(interval);}},[quizTimer,showResult,score,answers,handleQuizEnd]);useEffect(()=>{if(timer>0&&!showResult){const interval=setInterval(()=>{setTimer(timer-1);},1000);return()=>clearInterval(interval);}else if(timer===0){handleNextQuestion();}},[timer,showResult]);// eslint-disable-line react-hooks/exhaustive-deps\nconst handleAnswerSelect=answer=>{setSelectedAnswer(answer);};const handleNextQuestion=()=>{if(!quizData)return;const isCorrect=selectedAnswer===quizData.questions[currentQuestion].correct_answer;const newScore=isCorrect?score+1:score;const answerData={question:quizData.questions[currentQuestion].question,userAnswer:selectedAnswer,correctAnswer:quizData.questions[currentQuestion].correct_answer,isCorrect};setAnswers([...answers,answerData]);setScore(newScore);if(currentQuestion<quizData.questions.length-1){setCurrentQuestion(currentQuestion+1);setSelectedAnswer('');setTimer(30);}else{handleQuizEnd(newScore,[...answers,answerData]);}};const handleQuizEnd=useCallback(async(finalScore,finalAnswers)=>{setShowResult(true);try{const token=localStorage.getItem('token');const percentage=finalScore/quizData.questions.length*100;await fetch('http://localhost:5000/api/users/quiz-result',{method:'POST',headers:{'Content-Type':'application/json','x-auth-token':token},body:JSON.stringify({score:finalScore,totalQuestions:quizData.questions.length,percentage,answers:finalAnswers})});}catch(error){console.error('Error saving quiz result:',error);}},[quizData]);const handleEndQuiz=async()=>{const result=await Swal.fire({title:'End Quiz?',text:'Are you sure you want to end the quiz? Your progress will be saved.',icon:'question',showCancelButton:true,confirmButtonColor:'#667eea',cancelButtonColor:'#d33',confirmButtonText:'Yes, End Quiz',cancelButtonText:'Continue Quiz'});if(result.isConfirmed){handleQuizEnd(score,answers);}};if(!quizData){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading quiz...\"});}if(showResult){var _user$name;const percentage=score/quizData.questions.length*100;return/*#__PURE__*/_jsx(\"div\",{className:\"quiz-result\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"result-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:/*#__PURE__*/_jsx(\"span\",{children:user===null||user===void 0?void 0:(_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"h1\",{children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"p\",{children:\"Quiz Completed!\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-display\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-circle\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"score-number\",children:[score,\"/\",quizData.questions.length]}),/*#__PURE__*/_jsxs(\"span\",{className:\"score-percentage\",children:[percentage.toFixed(1),\"%\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),className:\"back-to-dashboard-btn\",children:\"Back to Dashboard\"})]})});}const question=quizData.questions[currentQuestion];const options=[...question.incorrect_answers];if(!options.includes(question.correct_answer)){options.splice(Math.floor(Math.random()*(options.length+1)),0,question.correct_answer);}return/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:/*#__PURE__*/_jsx(\"span\",{children:user===null||user===void 0?void 0:(_user$name2=user.name)===null||_user$name2===void 0?void 0:_user$name2.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Question \",currentQuestion+1,\" of \",quizData.questions.length]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timers\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question-timer\",children:[\"Question: \",timer,\"s\"]}),quizTimer>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-timer\",children:[\"Quiz: \",Math.floor(quizTimer/60),\":\",(quizTimer%60).toString().padStart(2,'0')]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEndQuiz,className:\"end-quiz-btn\",children:\"End Quiz\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category\",children:question.category}),/*#__PURE__*/_jsx(\"span\",{className:\"difficulty\",children:question.difficulty})]}),/*#__PURE__*/_jsx(\"div\",{className:\"question\",dangerouslySetInnerHTML:{__html:question.question}}),/*#__PURE__*/_jsx(\"div\",{className:\"options\",children:options.map((option,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"option \".concat(selectedAnswer===option?'selected':''),onClick:()=>handleAnswerSelect(option),dangerouslySetInnerHTML:{__html:option}},index))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextQuestion,className:\"next-btn\",disabled:!selectedAnswer,children:currentQuestion===quizData.questions.length-1?'Finish Quiz':'Next Question'})]})]});};export default Quiz;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useAuth","Swal","jsx","_jsx","jsxs","_jsxs","Quiz","_user$name2","quizData","setQuizData","currentQuestion","setCurrentQuestion","selectedAnswer","setSelectedAnswer","score","setScore","answers","setAnswers","timer","setTimer","quizTimer","setQuizTimer","showResult","setShowResult","user","navigate","data","localStorage","getItem","_parsedData$settings","parsedData","JSON","parse","timerMinutes","parseInt","settings","interval","setInterval","prev","currentAnswers","currentScore","handleQuizEnd","clearInterval","handleNextQuestion","handleAnswerSelect","answer","isCorrect","questions","correct_answer","newScore","answerData","question","userAnswer","correctAnswer","length","finalScore","finalAnswers","token","percentage","fetch","method","headers","body","stringify","totalQuestions","error","console","handleEndQuiz","result","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","className","children","_user$name","name","charAt","toUpperCase","toFixed","onClick","options","incorrect_answers","includes","splice","Math","floor","random","toString","padStart","category","difficulty","dangerouslySetInnerHTML","__html","map","option","index","concat","disabled"],"sources":["E:/AllProjects/Quiz-App-master/frontend/src/pages/Quiz/Quiz.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport Swal from 'sweetalert2';\r\nimport './Quiz.css';\r\n\r\nconst Quiz = () => {\r\n    const [quizData, setQuizData] = useState(null);\r\n    const [currentQuestion, setCurrentQuestion] = useState(0);\r\n    const [selectedAnswer, setSelectedAnswer] = useState('');\r\n    const [score, setScore] = useState(0);\r\n    const [answers, setAnswers] = useState([]);\r\n    const [timer, setTimer] = useState(30);\r\n    const [quizTimer, setQuizTimer] = useState(0);\r\n    const [showResult, setShowResult] = useState(false);\r\n    const { user } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const data = localStorage.getItem('quizData');\r\n        if (data) {\r\n            const parsedData = JSON.parse(data);\r\n            setQuizData(parsedData);\r\n            // Set quiz timer in minutes, convert to seconds\r\n            const timerMinutes = parseInt(parsedData.settings?.timer || 0);\r\n            setQuizTimer(timerMinutes * 60);\r\n        } else {\r\n            navigate('/dashboard');\r\n        }\r\n    }, [navigate]);\r\n\r\n    // Overall quiz timer effect\r\n    useEffect(() => {\r\n        if (quizTimer > 0 && !showResult) {\r\n            const interval = setInterval(() => {\r\n                setQuizTimer(prev => {\r\n                    if (prev <= 1) {\r\n                        // Use current score and answers when timer runs out\r\n                        const currentAnswers = answers;\r\n                        const currentScore = score;\r\n                        handleQuizEnd(currentScore, currentAnswers);\r\n                        return 0;\r\n                    }\r\n                    return prev - 1;\r\n                });\r\n            }, 1000);\r\n            return () => clearInterval(interval);\r\n        }\r\n    }, [quizTimer, showResult, score, answers, handleQuizEnd]);\r\n\r\n    useEffect(() => {\r\n        if (timer > 0 && !showResult) {\r\n            const interval = setInterval(() => {\r\n                setTimer(timer - 1);\r\n            }, 1000);\r\n            return () => clearInterval(interval);\r\n        } else if (timer === 0) {\r\n            handleNextQuestion();\r\n        }\r\n    }, [timer, showResult]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const handleAnswerSelect = (answer) => {\r\n        setSelectedAnswer(answer);\r\n    };\r\n\r\n    const handleNextQuestion = () => {\r\n        if (!quizData) return;\r\n\r\n        const isCorrect = selectedAnswer === quizData.questions[currentQuestion].correct_answer;\r\n        const newScore = isCorrect ? score + 1 : score;\r\n\r\n        const answerData = {\r\n            question: quizData.questions[currentQuestion].question,\r\n            userAnswer: selectedAnswer,\r\n            correctAnswer: quizData.questions[currentQuestion].correct_answer,\r\n            isCorrect\r\n        };\r\n\r\n        setAnswers([...answers, answerData]);\r\n        setScore(newScore);\r\n\r\n        if (currentQuestion < quizData.questions.length - 1) {\r\n            setCurrentQuestion(currentQuestion + 1);\r\n            setSelectedAnswer('');\r\n            setTimer(30);\r\n        } else {\r\n            handleQuizEnd(newScore, [...answers, answerData]);\r\n        }\r\n    };\r\n\r\n    const handleQuizEnd = useCallback(async (finalScore, finalAnswers) => {\r\n        setShowResult(true);\r\n\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const percentage = (finalScore / quizData.questions.length) * 100;\r\n\r\n            await fetch('http://localhost:5000/api/users/quiz-result', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': token\r\n                },\r\n                body: JSON.stringify({\r\n                    score: finalScore,\r\n                    totalQuestions: quizData.questions.length,\r\n                    percentage,\r\n                    answers: finalAnswers\r\n                })\r\n            });\r\n        } catch (error) {\r\n            console.error('Error saving quiz result:', error);\r\n        }\r\n    }, [quizData]);\r\n\r\n    const handleEndQuiz = async () => {\r\n        const result = await Swal.fire({\r\n            title: 'End Quiz?',\r\n            text: 'Are you sure you want to end the quiz? Your progress will be saved.',\r\n            icon: 'question',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#667eea',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, End Quiz',\r\n            cancelButtonText: 'Continue Quiz'\r\n        });\r\n\r\n        if (result.isConfirmed) {\r\n            handleQuizEnd(score, answers);\r\n        }\r\n    };\r\n\r\n    if (!quizData) {\r\n        return <div className=\"loading\">Loading quiz...</div>;\r\n    }\r\n\r\n    if (showResult) {\r\n        const percentage = (score / quizData.questions.length) * 100;\r\n        return (\r\n            <div className=\"quiz-result\">\r\n                <div className=\"result-card\">\r\n                    <div className=\"user-info\">\r\n                        <div className=\"user-avatar\">\r\n                            <span>{user?.name?.charAt(0).toUpperCase()}</span>\r\n                        </div>\r\n                        <div className=\"user-details\">\r\n                            <h1>{user?.name}</h1>\r\n                            <p>Quiz Completed!</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"score-display\">\r\n                        <h2>Your Score</h2>\r\n                        <div className=\"score-circle\">\r\n                            <span className=\"score-number\">{score}/{quizData.questions.length}</span>\r\n                            <span className=\"score-percentage\">{percentage.toFixed(1)}%</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button onClick={() => navigate('/dashboard')} className=\"back-to-dashboard-btn\">\r\n                        Back to Dashboard\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const question = quizData.questions[currentQuestion];\r\n    const options = [...question.incorrect_answers];\r\n    if (!options.includes(question.correct_answer)) {\r\n        options.splice(Math.floor(Math.random() * (options.length + 1)), 0, question.correct_answer);\r\n    }\r\n\r\n    return (\r\n        <div className=\"quiz-container\">\r\n            <div className=\"quiz-header\">\r\n                <div className=\"user-info\">\r\n                    <div className=\"user-avatar\">\r\n                        <span>{user?.name?.charAt(0).toUpperCase()}</span>\r\n                    </div>\r\n                    <div className=\"user-details\">\r\n                        <h2>{user?.name}</h2>\r\n                        <p>Question {currentQuestion + 1} of {quizData.questions.length}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"quiz-controls\">\r\n                    <div className=\"timers\">\r\n                        <div className=\"question-timer\">Question: {timer}s</div>\r\n                        {quizTimer > 0 && (\r\n                            <div className=\"quiz-timer\">\r\n                                Quiz: {Math.floor(quizTimer / 60)}:{(quizTimer % 60).toString().padStart(2, '0')}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <button onClick={handleEndQuiz} className=\"end-quiz-btn\">\r\n                        End Quiz\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"question-card\">\r\n                <div className=\"question-header\">\r\n                    <span className=\"category\">{question.category}</span>\r\n                    <span className=\"difficulty\">{question.difficulty}</span>\r\n                </div>\r\n\r\n                <div className=\"question\" dangerouslySetInnerHTML={{ __html: question.question }} />\r\n\r\n                <div className=\"options\">\r\n                    {options.map((option, index) => (\r\n                        <button\r\n                            key={index}\r\n                            className={`option ${selectedAnswer === option ? 'selected' : ''}`}\r\n                            onClick={() => handleAnswerSelect(option)}\r\n                            dangerouslySetInnerHTML={{ __html: option }}\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                <button\r\n                    onClick={handleNextQuestion}\r\n                    className=\"next-btn\"\r\n                    disabled={!selectedAnswer}\r\n                >\r\n                    {currentQuestion === quizData.questions.length - 1 ? 'Finish Quiz' : 'Next Question'}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Quiz;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}